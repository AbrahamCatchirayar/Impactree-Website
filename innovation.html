<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Our Fractals - Impactree Innovations</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
  <link rel="stylesheet" href="style.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Common head content will be loaded here -->
  <div id="common-head"></div>
  
  <style>
    /* Specific styles for Our Fractals page */
    body {
      background-color: var(--color-background-light);
      color: var(--color-typography-content-dark);
    }

    .section-spacing-lg {
      padding: 6rem 0; /* Larger spacing for major sections */
    }

    .section-spacing-md {
      padding: 4rem 0; /* Medium spacing for sub-sections */
    }

    .section-title-left {
      font-family: 'Grift', sans-serif;
      font-size: clamp(1.8rem, 4vw, 2.5rem);
      font-weight: 700;
      margin-bottom: 1.5rem;
      text-align: left;
      color: var(--color-typography-content-dark);
    }

    .section-title-left::after {
      content: '';
      display: block;
      width: 80px;
      height: 4px;
      background: var(--color-button-primary);
      margin: 1rem 0 0 0;
      border-radius: 2px;
    }

    /* Problem-Solution Diagram Section */
    .problem-solution-section {
      background-color: var(--color-background-white);
      padding: 6rem 0;
      position: relative;
      overflow: hidden;
    }

    .problem-solution-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 1.5rem;
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
    }

    .solution-box {
      background-color: var(--primary-blue);
      color: white;
      padding: 2rem 3rem;
      border-radius: 12px;
      font-family: 'Grift', sans-serif;
      font-size: clamp(1.5rem, 3vw, 2rem);
      font-weight: 700;
      text-align: center;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
      position: relative;
      z-index: 10;
      margin-bottom: 3rem; /* Space below the solution box */
    }

    .problem-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 2rem;
      width: 100%;
      position: relative;
      z-index: 5;
    }

    .problem-item {
      background-color: var(--color-background-light-accent);
      padding: 1.5rem;
      border-radius: 8px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
      font-size: 0.95rem;
      color: var(--color-typography-content-medium);
      line-height: 1.6;
      text-align: center;
      position: relative;
    }

    .problem-item strong {
      color: var(--color-typography-content-dark);
      font-weight: 600;
      display: block;
      margin-bottom: 0.5rem;
    }

    /* ESG Intelligence Section */
    .esg-intelligence-section {
      background-color: var(--color-background-light);
      padding: 6rem 0;
    }

    .esg-intelligence-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 1.5rem;
      display: flex;
      flex-direction: column;
      gap: 3rem;
    }

    .esg-content-block {
      display: flex;
      flex-direction: column;
      gap: 2rem;
      align-items: center;
    }

    .esg-image-col {
      flex: 1;
      min-width: 300px;
      text-align: center;
    }

    .esg-image-col img {
      max-width: 100%;
      height: auto;
      border-radius: 8px;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
    }

    .esg-text-col {
      flex: 2;
      min-width: 300px;
      text-align: left;
    }

    .esg-text-col h2 {
      font-family: 'Grift', sans-serif;
      font-size: clamp(2rem, 4.5vw, 2.8rem);
      font-weight: 700;
      color: var(--color-typography-content-dark);
      margin-bottom: 1rem;
      line-height: 1.2;
    }

    .esg-text-col p {
      font-size: clamp(1rem, 1.8vw, 1.1rem);
      color: var(--color-typography-content-medium);
      line-height: 1.7;
      margin-bottom: 1.5rem;
    }

    .esg-links {
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
    }

    .esg-links a {
      color: var(--primary-blue);
      text-decoration: none;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      transition: color 0.2s ease;
    }

    .esg-links a:hover {
      color: var(--color-button-primary);
    }

    /* Unique Us Section */
    .unique-us-section {
      background-color: var(--color-background-white);
      padding: 6rem 0;
    }

    .unique-us-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 1.5rem;
    }

    .unique-us-description {
      font-size: clamp(1rem, 1.8vw, 1.1rem);
      color: var(--color-typography-content-medium);
      line-height: 1.7;
      margin-bottom: 3rem;
    }

    .unique-components {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 2rem;
    }

    .component-card {
      background-color: var(--color-background-light-accent);
      padding: 2rem;
      border-radius: 12px;
      text-align: center;
      flex: 1 1 200px; /* Allows cards to grow but have a minimum width */
      max-width: 280px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
      font-family: 'Grift', sans-serif;
      font-weight: 700;
      font-size: 1.5rem;
      color: var(--primary-blue);
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .component-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
    }

    .component-card.fractals { background-color: #fce4ec; color: #e91e63; } /* Light Pink, Pink */
    .component-card.sentinels { background-color: #e3f2fd; color: #2196f3; } /* Light Blue, Blue */
    .component-card.eden { background-color: #e8f5e9; color: #4caf50; } /* Light Green, Green */
    .component-card.codex { background-color: #fff3e0; color: #ff9800; } /* Light Orange, Orange */

    .learn-more-link {
      display: block;
      margin-top: 3rem;
      text-align: center;
    }

    .learn-more-link a {
      background-color: var(--color-button-primary);
      color: white;
      padding: 0.8rem 2rem;
      border-radius: 50px;
      text-decoration: none;
      font-family: 'Grift', sans-serif;
      font-weight: 600;
      transition: background-color 0.2s ease;
    }

    .learn-more-link a:hover {
      background-color: var(--color-button-hover);
    }

    /* Expanding Sustainability Worldwide Section */
    .worldwide-section {
      background-color: var(--color-background-light-accent);
      padding: 6rem 0;
      text-align: center;
    }

    .worldwide-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 1.5rem;
    }

    .worldwide-map img {
      max-width: 100%;
      height: auto;
      margin-bottom: 3rem;
    }

    .worldwide-stats {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 2rem;
    }

    .stat-box {
      background-color: var(--color-background-white);
      padding: 1.5rem;
      border-radius: 12px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
      text-align: center;
    }

    .stat-value {
      font-family: 'Grift', sans-serif;
      font-size: clamp(1.8rem, 4vw, 2.5rem);
      font-weight: 700;
      color: var(--primary-blue);
      margin-bottom: 0.5rem;
    }

    .stat-label {
      font-size: 0.95rem;
      color: var(--color-typography-content-medium);
      line-height: 1.4;
    }

    /* Responsive Adjustments */
    @media (min-width: 768px) {
      .esg-content-block {
        flex-direction: row;
        text-align: left;
      }
      .esg-content-block.reverse {
        flex-direction: row-reverse;
      }
    }

    @media (max-width: 767px) {
      .solution-box {
        padding: 1.5rem 2rem;
        font-size: 1.2rem;
        margin-bottom: 2rem;
      }

      .problem-item {
        padding: 1rem;
        font-size: 0.85rem;
      }

      .esg-text-col {
        text-align: center;
      }

      .esg-text-col h2 {
        font-size: 1.8rem;
      }

      .esg-text-col p {
        font-size: 0.95rem;
      }

      .esg-links {
        align-items: center;
      }

      .unique-components {
        flex-direction: column;
        align-items: center;
      }

      .component-card {
        width: 90%;
        max-width: 100%;
      }

      .worldwide-stats {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <!-- Common navbar will be loaded here -->
  <div id="common-navbar"></div>

  <main>
    <section class="problem-solution-section">
      <div class="problem-solution-container">
        <div class="solution-box">
          One Solution<br>Impactree AI
        </div>
        <div class="problem-grid">
          <div class="problem-item">
            <strong>Reputation crash faster</strong><br>Lack of transparency will tarnish brand image
          </div>
          <div class="problem-item">
            <strong>Loss of New growth engine</strong><br>Without sustainability focus businesses lose competitive edge to its competition
          </div>
          <div class="problem-item">
            <strong>Loss of opportunities</strong><br>Lack of ESG performance metrics leads to missed funding, talent acquisition, operational and investor confidence
          </div>
          <div class="problem-item">
            <strong>Shorter Life Span</strong><br>Companies can survive 18 years tops without robust sustainability roadmap
          </div>
        </div>
      </div>
    </section>

    <section class="esg-intelligence-section section-spacing-lg">
      <div class="esg-intelligence-container">
        <div class="esg-content-block">
          <div class="esg-image-col">
            <img src="https://placehold.co/500x350/E7E8E2/1A0C0A?text=ESG+Intelligence+Image" alt="ESG Intelligence">
          </div>
          <div class="esg-text-col">
            <h2>ESG reporting for Transparency<br>ESG intelligence for Growth</h2>
            <p>In today’s dynamic landscape, sustainability and corporate responsibility goals are never one-size-fits-all. They vary significantly across industries, geographies, and business priorities. Navigating this complexity requires a tailored approach. With Impactree’s integrated product suite, navigating this complexity becomes seamless.</p>
            <div class="esg-links">
              <a href="compass.html">Compass Series Product Suite <i class="fas fa-arrow-right"></i></a>
              <a href="navigator.html">Navigator Series Product Suite <i class="fas fa-arrow-right"></i></a>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="unique-us-section section-spacing-lg">
      <div class="unique-us-container">
        <h2 class="section-title-left">unique us</h2>
        <p class="unique-us-description">Our Proprietary multi layered decision intelligence engine sets us apart</p>
        <p class="unique-us-description">Our platform is built on a multi-layered architecture combining AI models (<strong>Sentinels</strong>), domain frameworks (<strong>Fractals</strong>), and data pipelines (<strong>CODEX</strong>). These components collectively process and analyze vast amounts of sustainability data modeled by Fractals and orchestrated by CODEX, delivering accurate insights, consistent ratings, and actionable outputs tailored to diverse industry needs.</p>
        <div class="unique-components">
          <div class="component-card fractals">Fractals</div>
          <div class="component-card sentinels">Sentinels</div>
          <div class="component-card sentinels">Sentinels</div>
          <div class="component-card eden">EDEN</div>
          <div class="component-card codex">CODEX</div>
          <div class="component-card learn-more-link-card">
            <a href="#" class="learn-more-link-card-btn">Learn More link to relevant page</a>
          </div>
        </div>
      </div>
    </section>

    <section class="worldwide-section section-spacing-lg">
      <div class="worldwide-container">
        <h2 class="section-title-left">Expanding Sustainability Worldwide</h2>
        <div class="worldwide-map">
          <img src="https://placehold.co/1000x500/E7E8E2/1A0C0A?text=World+Map" alt="World Map">
        </div>
        <div class="worldwide-stats">
          <div class="stat-box">
            <div class="stat-value">2017</div>
            <div class="stat-label">Year of Establishment</div>
          </div>
          <div class="stat-box">
            <div class="stat-value">80+</div>
            <div class="stat-label">Clients</div>
          </div>
          <div class="stat-box">
            <div class="stat-value">26M</div>
            <div class="stat-label">Data Points Tracked</div>
          </div>
          <div class="stat-box">
            <div class="stat-value">10</div>
            <div class="stat-label">Business Partners</div>
          </div>
          <div class="stat-box">
            <div class="stat-value">2M</div>
            <div class="stat-label">People Impacted</div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Common footer will be loaded here -->
  <div id="common-footer"></div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    // Function to load common HTML components
    async function includeHTML() {
      const commonHead = document.getElementById('common-head');
      const commonNavbar = document.getElementById('common-navbar');
      const commonFooter = document.getElementById('common-footer');

      if (commonHead) {
        // Assuming common_head.html contains only meta/link tags
        const headResponse = await fetch('common_head.html');
        const headText = await headResponse.text();
        const tempDiv = document.createElement('div');
        tempDiv.innerHTML = headText;
        while (tempDiv.firstChild) {
          document.head.appendChild(tempDiv.firstChild);
        }
        commonHead.remove(); // Remove the placeholder div
      }

      if (commonNavbar) {
        const navbarResponse = await fetch('common_navbar.html');
        commonNavbar.innerHTML = await navbarResponse.text();
      }

      if (commonFooter) {
        const footerResponse = await fetch('common_footer.html');
        commonFooter.innerHTML = await footerResponse.text();
      }
    }

    // Function to set up dynamic content (like mega menu sidebar if common_navbar.html includes it)
    function setupDynamicContent() {
      // This part assumes common_navbar.html includes the mega menu structure and its JS logic.
      // If not, this function might need to be adjusted or removed.
      const productsDropdown = document.getElementById('productsDropdown');
      const productsMegaMenu = document.getElementById('productsMegaMenu');
      const innovationsDropdown = document.getElementById('innovationsDropdown');
      const innovationsMegaMenu = document.getElementById('innovationsMegaMenu');
      const aboutDropdown = document.getElementById('aboutDropdown');
      const aboutMegaMenu = document.getElementById('aboutMegaMenu');

      function closeAllMegaMenus() {
        if (productsMegaMenu) productsMegaMenu.classList.remove('show');
        if (productsDropdown) productsDropdown.classList.remove('open');
        if (innovationsMegaMenu) innovationsMegaMenu.classList.remove('show');
        if (innovationsDropdown) innovationsDropdown.classList.remove('open');
        if (aboutMegaMenu) aboutMegaMenu.classList.remove('show');
        if (aboutDropdown) aboutDropdown.classList.remove('open');
      }

      if (productsDropdown) {
        productsDropdown.addEventListener('click', function (event) {
          event.stopPropagation();
          closeAllMegaMenus();
          productsMegaMenu.classList.toggle('show');
          this.classList.toggle('open');
        });
      }

      if (innovationsDropdown) {
        innovationsDropdown.addEventListener('click', function (event) {
          event.stopPropagation();
          closeAllMegaMenus();
          innovationsMegaMenu.classList.toggle('show');
          this.classList.toggle('open');
        });
      }

      if (aboutDropdown) {
        aboutDropdown.addEventListener('click', function (event) {
          event.stopPropagation();
          closeAllMegaMenus();
          aboutMegaMenu.classList.toggle('show');
          this.classList.toggle('open');
        });
      }

      document.addEventListener('click', function (event) {
        if (productsMegaMenu && !productsMegaMenu.contains(event.target) && !productsDropdown.contains(event.target) ||
            innovationsMegaMenu && !innovationsMegaMenu.contains(event.target) && !innovationsDropdown.contains(event.target) ||
            aboutMegaMenu && !aboutMegaMenu.contains(event.target) && !aboutDropdown.contains(event.target)) {
          closeAllMegaMenus();
        }
      });

      // Sidebar functionality for Products and Innovations Mega Menus
      function setupMegaMenuSidebar(megaMenuId) {
        const megaMenu = document.getElementById(megaMenuId);
        if (!megaMenu) return;

        const sidebarTitles = megaMenu.querySelectorAll('.sidebar-title');
        const contentSections = megaMenu.querySelectorAll('.content-section');

        sidebarTitles.forEach(title => {
          title.addEventListener('click', function() {
            const targetSectionId = this.dataset.section + '-content';

            sidebarTitles.forEach(t => t.classList.remove('active'));
            this.classList.add('active');

            contentSections.forEach(content => {
              if (content.id === targetSectionId) {
                content.style.display = 'block';
              } else {
                content.style.display = 'none';
              }
            });
          });
        });

        // Set initial active state
        if (sidebarTitles.length > 0) {
          sidebarTitles[0].click();
        }
      }

      setupMegaMenuSidebar('productsMegaMenu');
      setupMegaMenuSidebar('innovationsMegaMenu');
      setupMegaMenuSidebar('aboutMegaMenu'); // Ensure this is also set up if it has internal tabs
    }

    // Run includeHTML and setupDynamicContent after DOM is fully loaded
    document.addEventListener('DOMContentLoaded', async () => {
      await includeHTML();
      setupDynamicContent();
    });
  </script>
</body>
</html>
